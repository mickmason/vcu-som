/** Inner pages multi-col layouts **/
.content-area-wrap {
    &.section {
        padding-top: 0; 
        padding-bottom: 0; 
    }
    > .container {
        margin: 0;
        width: 100%;
        max-width: none;
    }
    .columns {
    }
    //Cards columns
    /* General for all cards */
    .cards-columns {
        @include desktop {
            > .column {
                 -ms-flex-preferred-size: 50%;
                flex-basis: 50%;
                max-width:  50%;
            }
        }
        @include superhd {
            .card-heading {
                font-size: $size-5a;
            }
        }
        @media screen and (min-width: 1820px) {
            > .column {
                -ms-flex-preferred-size: 25%;
                flex-basis: 25%;
                max-width:  25%;
            }
        }
    }
    
}
.general-content {
        max-width: 850px;
        margin-left: auto;
        margin-right: auto;
}
.main-content {
    
    padding-top: $space-4;
    > .section {
        
        @include touch {
            padding-top: $space-5;    
        }
        &.text-feature {
            &.has-section-nav {
                padding-bottom: $space-2;
            }
        }
        
        margin-left: -$gutter-width/2;
        margin-right: -$gutter-width/2;
        
        &:first-child {
            padding-top: 0;
            h1, h2, h3 {
                &:first-child {
                    margin-top: flat-margin(1rem);
                }
                
            }
        }
        > .container {
            max-width: none;
        }
        
        .inner-page-nav {
            margin-left: -$gutter-width/2;
            margin-right: -$gutter-width/2;
            .section__label {
                padding-left:     $gutter-width/2;
                padding-right:    $gutter-width/2;
            }
        }       
    }
    .feature-section--vision-graphic {
        padding-top: 0;
        padding-bottom: 0;
        .feature__column {
                padding-left:   $gutter-width;
                padding-right:  $gutter-width; 
        }    
    }
    
    //Gen content/fulltext content
    .general-content {
        max-width: 850px;
        margin-left: auto;
        margin-right: auto;
        &:first-child {
            h1, h2, h3 {
                &:first-child {
                   margin-top: flat-margin($space-4);
                }
            }
        }
        figure {
            max-width: $gl-small; 
            margin-bottom: $space-4;
            &.is-pulled-right {
                float: right;
                margin-left: $space-4;
            }
            &.is-pulled-left {
                float: left;
                margin-right: $space-4;
            }
            img {
                margin-bottom: $space-11;
            }
            figcaption {
                font-size: $size-7;
                color: $grey; 
            }
            
            &.is-feature-image {
                max-width: 850px;
            }
        }
        ul {
            margin-bottom: $space-4;
        }
        .fulltext-video {
            margin-bottom: $space-4;
        }
        //deans message
        &.deans-message {
            border-top:     1px solid $black;
            border-bottom:  1px solid $black;
            padding-bottom: $space-5;
            @include make-flexbox($direction: row, $justify: start, $wrap: wrap);
            .deans-message__heading {
                -ms-flex: none;
                flex: none;
                width: 100%;
            }
            .deans-message__content {
                -ms-flex: 0 1 auto ;
                flex:     0 1 auto ;
            }
            .deans-image {
                max-width: none;
                -ms-flex: 1 0 $gl-small;
                flex:     1 0 $gl-small; 
               
                &:before {
                    height: 0;
                    width: 0;
                    padding: 0;
                    margin: 0;
                }
                > figure {
                    max-width: none;
                    img {
                        margin-bottom: 0;
                    }
                }
            }
            @media screen and (min-width: 400px) {
                .deans-message__heading {
                    padding-left: $gl-small;
                }
                .deans-message__content {
                    -ms-flex: 1 0 100% - $gl-small;
                    flex:     1 0 100% - $gl-small; 
                }
            }
            @include tablet {
                .deans-image {
                    -ms-flex: 1 0 $gl-small;
                    flex:     1 0 $gl-small;
                    padding-top: 0;
                }
            } 
            @include desktop {
                .deans-image {
                    padding-left: 0;
                }
            }
        }
        
        @include superhd {
            max-width: 49.9599rem;
            
        }
    }
    @include desktop {
        .news-item__related-news {
            margin-left: auto;
            margin-right: auto;
            max-width: 850px;
            .news-item__related-news__heading {
                font-weight: 700;
            }
            margin-bottom: $space-5;

            .cards-columns {
                > .column {
                    max-width: 50%;
                    -ms-flex-basis: 50%;
                    flex-basis: 50%;
                }
            }
        }   
    }
    @include fullhd {
        padding-top: $space-5a;
        .general-content {
            figure {
                &.is-pulled-right {
                    float: right;
                    margin-left: $space-4;
                    margin-right: -($gutter-width*2);
                }
            }
        }
    }
    
    
}
/** Two col layout **/
.is-2col, .is-3col {
   
    .left-sidebar {
        @include touch {
            padding-top: $space-5;    
        }
        padding-top: $space-4;
        @include fullhd  {
            padding-top: $space-5a;    
        }
    }
    .sidebar-nav-wrap, .sidebar-card {
        
        margin-bottom: $space-4;
    }
    @include touch {
        .sidebar-nav-wrap {
            margin-bottom: 0;
        }
    }
    .sidebar-card {
        &.sidebar-card--desktop {
            @include touch {
                display: none;
            }
        }
        &.sidebar-card--mobile {
            display: none;
            @include touch {
                display: block;
            }
        }
    }
    .main-content {
    
            .video-slider-feature {
                padding: 0;
            }
    }
    @include desktop {
        .left-sidebar {
            background-color: $light-10;
            -ms-flex: none;
            flex: none; 
            width: $gl-small;
        }
        .main-content {
            -ms-flex: none;
            flex: none; 
            width: 100% - $gl-small;
            @include boxShadow($black, leftThin);
            .video-slider-feature { 
                background-color: $light;
                .columns {
                    margin-left: 0;
                    margin-right: 0;  
                }
            }
        }
        
               //Heroes
        .hero.is-inner-hero {
            .container {
                max-width: none; 
            }
            .hero-body {
                padding-left: 0;
                padding-right: 0;
            }
            .hero-content-wrap { 
                width: auto;
                margin-left: ($gl-small);
            }
        }
        
    }
    
    
}

/** Three col layout **/
.is-3col {
    .right-sidebar {
        display: none;
    }
    .content-area-wrap {
        @include mobile {
            @include boxShadow($black, insetTopThin);
        }   
    }
    @include desktop {
        .right-sidebar {
            @include boxShadow($black, insetLeftThin);  
        }
    }
    @include fullhd {
        
        .left-sidebar {
            width: $gl-small;
        }
        .right-sidebar {
            -ms-flex: none;
            flex: none;
            width: $gl-xsmall;
            display: block;
            background-color: $light-10;
            padding-top: $space-4; 
        }
    }
}